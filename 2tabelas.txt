SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';


CREATE SCHEMA IF NOT EXISTS `camp2tabela` DEFAULT CHARACTER SET utf8 ;

USE `camp2tabela` ;


CREATE TABLE IF NOT EXISTS `camp2tabela`.`times` (
`id_time` INT NOT NULL,
 `nome_time` VARCHAR(45) NOT NULL,
 PRIMARY KEY (`id_time`))
ENGINE = InnoDB;


CREATE TABLE IF NOT EXISTS `camp2tabela`.`jogos` (

  `id_time1` INT NOT NULL,
  `id_jogo` INT NOT NULL,

  `id_time2` INT NOT NULL,
  `data` DATETIME NOT NULL,

  `estadio` VARCHAR(45) NOT NULL,
  `gols_time1` INT NOT NULL,

  `gols_time2` INT NOT NULL,
  
PRIMARY KEY (`id_time1`, `id_jogo`, `id_time2`),
INDEX `fk_jogos_times1_idx` (`id_time2` ASC),

  CONSTRAINT `fk_jogos_times`
    
FOREIGN KEY (`id_time1`)
    
REFERENCES `camp2tabela`.`times` (`id_time`)
ON DELETE NO ACTION
    
ON UPDATE NO ACTION,
  
CONSTRAINT `fk_jogos_times1`
FOREIGN KEY (`id_time2`)
    
REFERENCES `camp2tabela`.`times` (`id_time`)
 ON DELETE NO ACTION
    
ON UPDATE NO ACTION)

ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;

SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;

SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;